{% block content %}

<!-- Div #score including highscore table, content replaced when rendered after save or submit score  -->
<div id="score">
<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">User</th>
      <th scope="col">Score</th>
    </tr>
  </thead>

<!-- If saved/submited score, views passes render function with passedallscores list with 5 top scores-->
  <tbody>
    {% if passedallscores %}
      {% for score in passedallscores %}
      <tr>
        <th scope="row">{{ forloop.counter }}</th>
        <td>{{score.user}}</td>
        <td>{{score.score}}</td>
      </tr>
      {% endfor %}

<!-- If passedallscores doesn't exist (loaded for the first time through DetailView)
the scores fetched through gamestate queryset-->
    {% else %}
      {% for state in view.gamestate %}
      <tr>
        <th scope="row">{{ forloop.counter }}</th>
        <td>{{state.user}}</td>
        <td>{{state.score}}</td>
      </tr>
    {% endfor %}

  {% endif %}
</tbody>
</table>
</div>
{% endblock %}
